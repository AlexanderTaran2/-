<?php
// –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø–æ–º–æ—â–Ω–∏–∫–∏
require_once __DIR__ . '/../app/helpers.php';

// –ü—Ä–æ—Å—Ç–æ–π –∫–ª–∞—Å—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
class Route {
    public static function get($path, $callback) {
        $currentPath = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
        
        if ($currentPath === $path) {
            if (is_callable($callback)) {
                return $callback();
            }
        }
    }
}

// –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
Route::get('/', function() {
    return "<h2>üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–æ–µ Laravel-–ø–æ–¥–æ–±–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!</p>
            <p>–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.</p>";
});

// –ü—Ä–æ—Å—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç
Route::get('/hello', function() {
    return "<h2>üëã –ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!</h2>
            <p>–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç <code>/hello</code></p>
            <p>‚úÖ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!</p>";
});

// –ú–∞—Ä—à—Ä—É—Ç —Å Blade-—à–∞–±–ª–æ–Ω–æ–º
Route::get('/greeting', function() {
    $data = [
        'message' => '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Laravel!',
        'date' => date('d.m.Y H:i:s'),
        'user' => '–°—Ç—É–¥–µ–Ω—Ç',
        'status' => '–£—Å–ø–µ—à–Ω–æ!'
    ];
    
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é view()
    view('greeting', $data);
});

// –ú–∞—Ä—à—Ä—É—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º (—Ç–µ–ø–µ—Ä—å –≤ public/index.php)
// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–¥–µ—Å—å
?>